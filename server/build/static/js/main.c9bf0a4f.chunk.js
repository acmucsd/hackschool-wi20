(this["webpackJsonpmeme-gen-solution"]=this["webpackJsonpmeme-gen-solution"]||[]).push([[0],{22:function(e,t,n){e.exports=n(43)},27:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){e.exports=n.p+"static/media/aight-imma-out.92b64427.png"},31:function(e,t,n){e.exports=n.p+"static/media/badmeme.6df7a44f.jpeg"},32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t){},37:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(18),c=n.n(i),l=n(19),s=n(10),m=(n(27),n(28),function(){return r.a.createElement("div",{id:"footer"})}),o=n(5),u=n(6),d=n(8),f=n(7),h=n(9),p=(n(29),n(30),n(31),n(32),function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(d.a)(this,Object(f.a)(t).call(this,e))).toggleLikes=function(e){e.preventDefault(),fetch("/likememe",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:n.props.id,likedStatus:n.state.likedStatus,likes:n.state.likes})}).then((function(e){return e.json()})).then((function(e){n.setState({likedStatus:e.isLiked,likes:e.likes})}))},n.state={likedStatus:e.likedStatus,likes:e.likes},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.state.likedStatus?"liked":"unliked";return r.a.createElement("button",{type:"button",className:e,onClick:this.toggleLikes},r.a.createElement("span",{role:"img",alt:"like"},"\ud83d\udc4d"),this.state.likes)}}]),t}(r.a.Component)),y=function(e){return r.a.createElement("div",{className:"meme-card",alt:"meme"},r.a.createElement("img",{src:e.image}),r.a.createElement("p",null,e.creator),r.a.createElement(p,{likes:e.likes,likedStatus:e.likedStatus,id:e.id}))},k=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(d.a)(this,Object(f.a)(t).call(this))).state={memeArray:null},fetch("/getmeme").then((function(e){return e.json()})).then((function(t){e.setState({memeArray:t})})),e}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){if(!this.state.memeArray)return r.a.createElement("div",null);var e=this.state.memeArray.map((function(e){return r.a.createElement(y,{key:e._id,id:e._id,image:e.image,creator:e.creator,likes:e.likes,likedStatus:e.isLiked})}));return r.a.createElement("div",{id:"content"},r.a.createElement("h2",null,"Meme Gallery"),r.a.createElement("div",{className:"memes"},e))}}]),t}(r.a.Component),g=(n(33),n(34),function(e){return r.a.createElement("div",{className:"textbox"},r.a.createElement("h3",null,e.text),r.a.createElement("textarea",{className:"textbox",name:e.text,cols:"50",rows:"2",onChange:function(t){return e.handleText(e.index,t.target.value)}}))}),v=(n(35),function(e){return r.a.createElement("img",{key:e.meme.id,src:e.meme.url,width:"50",height:"50",onClick:e.reselectMeme})}),E=(n(36),function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(d.a)(this,Object(f.a)(t).call(this))).handleMemeText=function(t,n){e.state.textArray[t]=n},e.handleCreatedBy=function(t,n){e.setState({createdBy:n})},e.reselectMeme=function(t){e.setState({currentMeme:t,numOfTexts:t.box_count})},e.uploadMeme=function(){fetch("/sendmeme",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({meme:e.state.currentMeme,textArray:e.state.textArray,numOfTexts:e.state.numOfTexts,createdBy:e.state.createdBy})}).then((function(e){200==e.status?window.location.href="/gallery":console.log(e)}))},e.state={memeArray:null,currentMeme:null,numOfTexts:0,textArray:[],createdBy:""},fetch("https://api.imgflip.com/get_memes").then((function(e){return e.json()})).then((function(t){if(t.success){var n=t.data.memes;e.setState({memeArray:n,currentMeme:n[0],numOfTexts:n[0].box_count,textArray:[],createdBy:""})}})),e}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;if(!this.state.memeArray)return r.a.createElement("div",null," ");for(var t=[],n=1;n<=this.state.numOfTexts;n++)t.push(n);var a=t.map((function(t){return r.a.createElement(g,{text:"Text "+t,key:t,index:t-1,handleText:e.handleMemeText})})),i=this.state.memeArray.map((function(t){return r.a.createElement(v,{key:t.id,meme:t,reselectMeme:function(){return e.reselectMeme(t)}})}));return r.a.createElement("div",{id:"content"},r.a.createElement("h2",null,"Meme Generator"),r.a.createElement("img",{className:"memeImg",src:this.state.currentMeme.url,alt:"meme template"}),r.a.createElement("div",{className:"textboxes"},a,r.a.createElement(g,{text:"Created By?",index:0,handleText:this.handleCreatedBy})),r.a.createElement("button",{className:"button",type:"submit",onClick:function(){return e.uploadMeme()}},"Submit meme!"),r.a.createElement("div",{className:"memeTemplates"}),i)}}]),t}(r.a.Component)),b=(n(37),function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(d.a)(this,Object(f.a)(t).call(this,e))).state={genActive:""===n.props.page?"current":"",galleryActive:"gallery"===n.props.page?"current":""},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{id:"navbar"},r.a.createElement("h1",null,"ACM UCSD Meme Gen"),r.a.createElement("div",{id:"navlinks"},r.a.createElement("a",{className:"links",id:this.state.genActive,href:"/"},"Generator"),r.a.createElement("a",{className:"links",id:this.state.galleryActive,href:"/gallery"},"Gallery")))}}]),t}(r.a.Component));var x=function(){var e=String(window.location).split("/")[3];return r.a.createElement(l.a,null,r.a.createElement(b,{page:e}),r.a.createElement(s.c,null,r.a.createElement(s.a,{path:"/gallery"},r.a.createElement(k,null)),r.a.createElement(s.a,{path:"/"},r.a.createElement(E,null))),r.a.createElement(m,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[22,1,2]]]);
//# sourceMappingURL=main.c9bf0a4f.chunk.js.map